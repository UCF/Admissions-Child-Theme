!function(o){var n=".js-anchor-link",t="mobile-sidebar-active",e=o("#js-page-campus-tour"),i=o("#js-sidebar"),r=o("#js-sidebar-menu"),s=o("#js-sidebar-toggle-btn"),a=o("#js-sidebar-close-btn"),l=992;function c(){return o(n).filter(".active")}function u(){var t=c();t.length&&t.removeClass("active")}function f(t){o(n).filter('[href="'+t+'"]').addClass("active")}function h(){return e.hasClass(t)&&o(window).width()<l}function d(){e.removeClass(t),s.addClass("collapsed")}function g(){e.toggleClass(t),s.toggleClass("collapsed")}o.fn.isInViewport=function(){var t=o(this).offset().top,n=t+o(this).outerHeight(),e=o(window).scrollTop(),i=e+o(window).height();return e<n&&t<i},o.fn.anchorLink=function(){return this.each(function(t,n){var e=o(n);e.on("click",function(t){var n=e.attr("href");"#"===n.substring(0,1)&&(t.preventDefault(),u(),f(n),function(t){var n=o(t);if(n.length){var e=n.offset().top+1;h()&&"#content"!==t&&(e-=r.outerHeight()),o("html, body").animate({scrollTop:e},750),history.pushState?history.pushState(null,null,t):location.hash=t}}(n),h()&&d())})}),this},o(document).ready(function(){o(n).anchorLink(),o(".map-marker").tooltip({title:function(){return o(this).find(".js-marker-tooltip-text").text()}}),a.on("click",d),s.on("click",g)}),o(document).on("click",function(t){var n=o(t.target);!h()||n.closest(i).length||n.closest(s).length||d()}),o(window).on("scroll resize",function(){if(o(window).width()>=l){var t=o(".js-anchor").filter(function(){return o(this).isInViewport()});if(t.length){var n=t.first();n!==function(){var t=c();return t.length?o(t.first().attr("href")):null}()&&(u(),f("#"+n.attr("id")))}else u()}})}(jQuery);